{% comment %}
  Detect appearance language and return it through variable "lang"
  Updated to work with GitHub Pages (without jekyll-polyglot)
{% endcomment %}
{% if page.url contains '/en/' or page.url == '/en' %}
  {% assign lang = 'en' %}
{% elsif site.data.locales[page.lang] %}
  {% assign lang = page.lang %}
{% elsif site.data.locales[site.lang] %}
  {% assign lang = site.lang %}
{% else %}
  {% assign lang = 'zh-tw' %}
{% endif %}
